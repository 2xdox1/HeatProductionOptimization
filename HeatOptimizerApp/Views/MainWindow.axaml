<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Avalonia;assembly=LiveChartsCore.SkiaSharpView.Avalonia"
        x:Class="HeatOptimizerApp.Views.MainWindow"
        Title="Heat Optimizer"
        Width="600"
        Height="900">

  <DockPanel>

    <!-- Fixed Top Toolbar -->
    <Border Padding="10" Background="LightGray" DockPanel.Dock="Top">
      <StackPanel Orientation="Horizontal" Spacing="10">
        <Button Content="Save Scenario Results" Click="SaveScenarioResults"/>
        <Button Content="Load Saved Result" Click="OnOpenSavedResult"/>
        <Button Content="Reload Time Series" Click="ReloadTimeSeries"/>
      </StackPanel>
    </Border>

    <!-- Tab Control -->
    <TabControl DockPanel.Dock="Bottom">

      <!-- Tab 1: Scenario View -->
      <TabItem Header="Scenario View">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel Margin="10" Spacing="10">
            <!-- Paste your current MainWindow content here starting from Select Scenario textblock down -->
            <!-- Replace top scenario buttons inside toolbar now -->
            <!-- All your existing controls go here -->
          </StackPanel>
        </ScrollViewer>
      </TabItem>

      <!-- Tab 2: Production Units -->
      <TabItem Header="Production Units">
        <StackPanel Margin="10">
          <TextBlock Text="Production Units UI goes here."/>
        </StackPanel>
      </TabItem>

      <!-- Tab 3: Comparison & Summary -->
      <TabItem Header="Comparison &amp; Summary">
        <StackPanel Margin="10">
          <TextBlock Text="Comparison &amp; Summary UI goes here."/>
        </StackPanel>
      </TabItem>

    </TabControl>
  </DockPanel>
</Window>